
var SLNBar = {
    'ads': '\x5B\x7B\x22icon\x22\x3A\x22https\x3A\x5C\x2F\x5C\x2Fd48n5utym4v7z.cloudfront.net\x5C\x2Fimages\x5C\x2Fsf\x2Dcertif.png\x3Fv\x3Dab6eda2a\x22,\x22href\x22\x3A\x22http\x3A\x5C\x2F\x5C\x2Ftrainings.sensiolabs.com\x5C\x2Fen\x5C\x2Ftraining\x5C\x2Fsymfony\x2Dcertification\x22,\x22short_text\x22\x3A\x22Certification\x22,\x22medium_text\x22\x3A\x22Symfony\x20Certification\x22,\x22long_text\x22\x3A\x22Become\x20one\x20of\x20the\x20first\x20SensioLabs\x20Certified\x20Symfony\x20Developer\x22,\x22ga\x22\x3A\x22sl_certification\x22\x7D,\x7B\x22icon\x22\x3A\x22https\x3A\x5C\x2F\x5C\x2Fd48n5utym4v7z.cloudfront.net\x5C\x2Fimages\x5C\x2Fsf\x2Dsgrove.png\x3Fv\x3Dab6eda2a\x22,\x22href\x22\x3A\x22http\x3A\x5C\x2F\x5C\x2Fsymfony.com\x5C\x2Fservergrove\x22,\x22short_text\x22\x3A\x22Hosting\x22,\x22medium_text\x22\x3A\x22Symfony\x20hosting\x20done\x20right\x22,\x22long_text\x22\x3A\x22Outstanding\x20support\x20at\x20the\x20right\x20price\x20for\x20your\x20Symfony\x20hosting\x20needs\x22,\x22ga\x22\x3A\x22servergrove\x22\x7D,\x7B\x22icon\x22\x3A\x22https\x3A\x5C\x2F\x5C\x2Fd48n5utym4v7z.cloudfront.net\x5C\x2Fimages\x5C\x2Fsl\x2Ddesktop.png\x3Fv\x3Dab6eda2a\x22,\x22href\x22\x3A\x22http\x3A\x5C\x2F\x5C\x2Fdesktop.sensiolabs.org\x5C\x2F\x22,\x22short_text\x22\x3A\x22SL\x20Desktop\x22,\x22medium_text\x22\x3A\x22SensioLabs\x20Desktop\x22,\x22long_text\x22\x3A\x22Enhance\x20your\x20PHP\x20experience\x20with\x20SensioLabsDesktop\x22,\x22ga\x22\x3A\x22sl_desktop\x22\x7D,\x7B\x22icon\x22\x3A\x22https\x3A\x5C\x2F\x5C\x2Fd48n5utym4v7z.cloudfront.net\x5C\x2Fimages\x5C\x2Fsf\x2Dlive.png\x3Fv\x3Dab6eda2a\x22,\x22href\x22\x3A\x22http\x3A\x5C\x2F\x5C\x2Fportland2013.live.symfony.com\x5C\x2F\x22,\x22short_text\x22\x3A\x22SFLive\x20PDX\x22,\x22medium_text\x22\x3A\x22SFLive\x20Portland\x22,\x22long_text\x22\x3A\x22Symfony\x20Live\x20Portland\x20with\x20DrupalCon\x20\x26\x20WebVisions,\x20register\x20now\x21\x22,\x22ga\x22\x3A\x22sflive2013_pdx_1\x22\x7D,\x7B\x22icon\x22\x3A\x22https\x3A\x5C\x2F\x5C\x2Fd48n5utym4v7z.cloudfront.net\x5C\x2Fimages\x5C\x2Fsf\x2Dlive.png\x3Fv\x3Dab6eda2a\x22,\x22href\x22\x3A\x22http\x3A\x5C\x2F\x5C\x2Fportland2013.live.symfony.com\x5C\x2F\x22,\x22short_text\x22\x3A\x22SFLive\x20PDX\x22,\x22medium_text\x22\x3A\x22SFLive\x20Portland\x22,\x22long_text\x22\x3A\x22Register\x20now\x20for\x20Symfony\x20Live\x20Portland\x202013,\x20early\x20bird\x20ends\x20on\x20March\x2015\x21\x22,\x22ga\x22\x3A\x22sflive2013_pdx_2\x22\x7D,\x7B\x22icon\x22\x3A\x22https\x3A\x5C\x2F\x5C\x2Fd48n5utym4v7z.cloudfront.net\x5C\x2Fimages\x5C\x2Fsensio\x2Dsupport.png\x3Fv\x3Dab6eda2a\x22,\x22href\x22\x3A\x22http\x3A\x5C\x2F\x5C\x2Fsensiolabs.com\x5C\x2Fen\x5C\x2Fsupport\x5C\x2Fsensiolabs_support.html\x22,\x22short_text\x22\x3A\x22Support\x22,\x22medium_text\x22\x3A\x22Professional\x20Support\x20for\x20Symfony\x22,\x22long_text\x22\x3A\x22Get\x20professional\x20support\x20for\x20symfony\x201.x\x20and\x20Symfony\x202.x\x22,\x22ga\x22\x3A\x22support_1\x22\x7D\x5D',
    'isAuthenticated': false,
    'uuid': '',
    'fullName': '',
    'urlConnectHomepage': 'https://connect.sensiolabs.com/',
    'urlConnectAccount': 'https://connect.sensiolabs.com/account',
    'urlConnectLogout': 'https://connect.sensiolabs.com/logout',
    'urlConnectButton': '',
    'searchActive' : false,
    'searchPlaceholder': 'Search',
    'searchUrl': '',
    'searchUrlAutocomplete': '',
    'searchUrlMethod': 'GET',
    'searchAutocompleteMethod': 'GET',
    'searchApiAlternateShow': '',
    'searchApiImageShow': '',
    'searchAutocompleteSelect': function (event, ui) {
        if (ui.item.path) {
            $("#sln-autocomplete").val(ui.item.label);
            window.location.href = ui.item.path;

            return false;
        }
    },
    'searchAutocompleteRenderItem': function(){},
    'actions': {},
    'separatedActions': {},

    'render': function() {
        template = '\x3Cdiv\x20class\x3D\x22sln\x2Dbar\x22\x3E\x3Cdiv\x20class\x3D\x22sln\x2Dbar\x2Dinner\x22\x3E\x3Cdiv\x20class\x3D\x22sln\x2Dnetwork\x22\x3E\x3Ca\x20href\x3D\x22\x23\x22\x20class\x3D\x22sln\x2Dhidden\x2Dphone\x22\x3ESensioLabs\x3Cspan\x3ENetwork\x3C\x2Fspan\x3E\x3C\x2Fa\x3E\x3Ca\x20href\x3D\x22\x23\x22\x20class\x3D\x22sln\x2Dvisible\x2Dphone\x22\x3ESL\x3Cspan\x3EN\x3C\x2Fspan\x3E\x3C\x2Fa\x3E\x3C\x2Fdiv\x3E\x20__AD__\x20__SEARCH__\x20__USER__\x0A\x20\x20\x20\x20\x3C\x2Fdiv\x3E\x0A\x20\x20\x20\x20__DROPDOWN_NETWORK__\x0A\x20\x20\x20\x20__DROPDOWN_USER__\x0A\x3C\x2Fdiv\x3E';

        template = template.replace(/__AD__/g, this.renderAds())
                           .replace(/__SEARCH__/g, this.renderSearch())
                           .replace(/__USER__/g, this.renderUser())
                           .replace(/__DROPDOWN_NETWORK__/g, this.renderDropdownNetwork())
                           .replace(/__DROPDOWN_USER__/g, this.renderDropdownUser())
                           .replace(/__DROPDOWN_SEARCH__/g, this.renderDropdownSearch());

        return template;
    },
    'renderSearch': function() {
        template = '\x3Cdiv\x20class\x3D\x22sln\x2Dsearch\x22\x3E\x3Cdiv\x20class\x3D\x22sln\x2Dsearch\x2Ddeactivated\x22\x3E\x3Ca\x20href\x3D\x22\x23\x22\x3E\x3Cimg\x20src\x3D\x22https\x3A\x2F\x2Fd48n5utym4v7z.cloudfront.net\x2Fimages\x2Fsln\x2Dv2\x2Fsearch.png\x3Fv\x3Dab6eda2a\x22\x20\x2F\x3E\x3C\x2Fa\x3E\x3C\x2Fdiv\x3E\x3Cdiv\x20class\x3D\x22sln\x2Dsearch\x2Dactivated\x20sln\x2Dhidden\x22\x3E\x3Ca\x20href\x3D\x22\x23\x22\x3E\x3Cimg\x20src\x3D\x22https\x3A\x2F\x2Fd48n5utym4v7z.cloudfront.net\x2Fimages\x2Fsln\x2Dv2\x2Fsearch\x2Dalt.png\x3Fv\x3Dab6eda2a\x22\x20\x2F\x3E\x3C\x2Fa\x3E\x3Cform\x20method\x3D\x22__METHOD__\x22\x20action\x3D\x22__ACTION__\x22\x3E\x3Cinput\x20name\x3D\x22q\x22\x20id\x3D\x22sln\x2Dautocomplete\x22\x20type\x3D\x22text\x22\x20placeholder\x3D\x22__PLACEHOLDER__\x22\x20\x2F\x3E\x3C\x2Fform\x3E\x3C\x2Fdiv\x3E\x3C\x2Fdiv\x3E';
        if (this.searchActive == true) {
            return template.replace(/__METHOD__/g, this.searchUrlMethod)
                           .replace(/__ACTION__/g, this.searchUrl)
                           .replace(/__PLACEHOLDER__/g, this.searchPlaceholder);
        }

        return '';
    },
    'renderUser': function() {
        template = '\x3Cdiv\x20class\x3D\x22sln\x2Duser\x22\x3E\x20__USER_STATE__\x20\x3C\x2Fdiv\x3E';
        if (this.isAuthenticated) {
            state = '\x3Ca\x20class\x3D\x22sln\x2Duser\x2Dconnected\x22\x20href\x3D\x22\x23\x22\x3E\x3Cimg\x20src\x3D\x22https\x3A\x2F\x2Fconnect.sensiolabs.com\x2Fapi\x2Fimages\x2F__UUID__.png\x22\x20width\x3D\x2230\x22\x20height\x3D\x2230\x22\x20alt\x3D\x22__FULLNAME__\x22\x2F\x3E\x3Cspan\x20class\x3D\x22sln\x2Duser\x2Dname\x20sln\x2Dhidden\x2Dphone\x22\x3E__FULLNAME__\x3C\x2Fspan\x3E\x3C\x2Fa\x3E';
            state = state.replace(/__UUID__/g, this.uuid).replace(/__FULLNAME__/g, this.fullName);

            return template.replace(/__USER_STATE__/g, state);
        } else if (!this.isAuthenticated && this.urlConnectButton != '') {
            state = '\x3Ca\x20href\x3D\x22__CONNECT_URL__\x22\x20class\x3D\x22sln\x2Dconnect\x22\x3E\x20Connect\x20\x3C\x2Fa\x3E';
            state = state.replace(/__CONNECT_URL__/g, this.urlConnectButton);

            return template.replace(/__USER_STATE__/g, state);
        }

        return '';
    },
    'renderDropdownNetwork': function() {
        return '\x3Cdiv\x20class\x3D\x22sln\x2Ddropdown\x2Dnetwork\x20sln\x2Ddropdown\x20sln\x2Dhidden\x22\x3E\x3Cdiv\x20class\x3D\x22sln\x2Dcontainer\x22\x3E\x3Cdiv\x20class\x3D\x22sln\x2Drow\x22\x3E\x3Cdiv\x20class\x3D\x22sln\x2Dspan6\x22\x3E\x3Cimg\x20src\x3D\x22https\x3A\x2F\x2Fd48n5utym4v7z.cloudfront.net\x2Fimages\x2Fsln\x2Dv2\x2Fsensiolabs.png\x3Fv\x3Dab6eda2a\x22\x20alt\x3D\x22SensioLabs\x22\x20\x2F\x3E\x3Cp\x3ESince\x201998,\x20SensioLabs\x20has\x20been\x20promoting\x20the\x20Open\x2DSource\x20software\x20movement\x20by\x20providing\x20quality\x20web\x20application\x20development,\x20training,\x20consulting.\x20Sensio\x20Labs\x20also\x20supports\x20several\x20large\x20Open\x2DSource\x20projects.\x3C\x2Fp\x3E\x3Cul\x20class\x3D\x22sln\x2Dwebsites\x22\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fsensiolabs.com\x2Fen\x22\x3EInternational\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fsensiolabs.fr\x2F\x22\x3EFrance\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fsensiolabs.de\x2F\x22\x3EDeutschland\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fsensiolabs.co.uk\x2F\x22\x3EUK\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3C\x2Ful\x3E\x3C\x2Fdiv\x3E\x3Cdiv\x20class\x3D\x22sln\x2Dspan6\x22\x3E\x3Cdiv\x20class\x3D\x22sln\x2Drow\x22\x3E\x3Cdiv\x20class\x3D\x22sln\x2Dspan3\x22\x3E\x3Ch2\x3EProducts\x3C\x2Fh2\x3E\x3Cul\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fsymfony.com\x2F\x22\x3ESymfony\x20\x2D\x20Web\x20framework\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Ftwig.sensiolabs.org\x2F\x22\x3ETwig\x20\x2D\x20Template\x20library\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fsilex.sensiolabs.org\x2F\x22\x3ESilex\x20\x2D\x20PHP\x20micro\x2Dframework\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fwww.swiftmailer.org\x2F\x22\x3ESwift\x20Mailer\x20\x2D\x20Mailing\x20library\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fsismo.sensiolabs.org\x2F\x22\x3ESismo\x20\x2D\x20Continuous\x20Testing\x20Server\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fpirum.sensiolabs.org\x2F\x22\x3EPirum\x20\x2D\x20PEAR\x20channel\x20server\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fdesktop.sensiolabs.org\x2F\x22\x3EDesktop\x20\x2D\x20Enhance\x20your\x20PHP\x20experience\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3C\x2Ful\x3E\x3C\x2Fdiv\x3E\x3Cdiv\x20class\x3D\x22sln\x2Dspan3\x22\x3E\x3Ch2\x3EServices\x3C\x2Fh2\x3E\x3Cul\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fsymfony.com\x2Fservices\x22\x3ESymfony\x20services\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fsensiolabs.com\x2Fen\x2Fsupport\x2Fsensiolabs_support.html\x22\x3ESupport\x20\x2D\x20For\x20symfony\x201.x\x20\x26\x20Symfony\x202.x\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Ftrainings.sensiolabs.com\x2F\x22\x3ETrainings\x20\x2D\x20Be\x20Trained\x20by\x20experts\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fguru.sensiolabs.com\x2F\x22\x3EGuru\x20\x2D\x20Get\x20a\x20guru\x20for\x20a\x20day\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22https\x3A\x2F\x2Fconnect.sensiolabs.com\x2F\x22\x3EConnect\x20\x2D\x20Showcase\x20your\x20skills\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fbooks.sensiolabs.com\x2F\x22\x3EBooks\x20\x2D\x20Read\x20Open\x2DSource\x20books\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Flive.symfony.com\x2F\x22\x3EConferences\x20\x2D\x20The\x20Symfony\x20Live\x20Conference\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3Cli\x3E\x3Ca\x20href\x3D\x22http\x3A\x2F\x2Fwww.youtube.com\x2Fsensiolabs\x22\x3EVideos\x20\x2D\x20Watch\x20technical\x20talks\x3C\x2Fa\x3E\x3C\x2Fli\x3E\x3C\x2Ful\x3E\x3C\x2Fdiv\x3E\x3C\x2Fdiv\x3E\x3C\x2Fdiv\x3E\x3C\x2Fdiv\x3E\x3C\x2Fdiv\x3E\x3C\x2Fdiv\x3E';
    },
    'renderDropdownUser': function() {
        template = '\x3Cdiv\x20class\x3D\x22sln\x2Ddropdown\x2Duser\x20sln\x2Ddropdown\x20sln\x2Dhidden\x22\x3E\x3Cdiv\x20class\x3D\x22sln\x2Dcontainer\x22\x3E\x3Cdiv\x20class\x3D\x22sln\x2Drow\x22\x3E\x3Cdiv\x20class\x3D\x22sln\x2Duser\x2Dactions\x20sln\x2Dspan3\x22\x3E\x3Ch2\x3EYour\x20actions\x3C\x2Fh2\x3E\x3Cul\x3E\x20__ACTIONS__\x20\x3C\x2Ful\x3E\x3C\x2Fdiv\x3E\x3Cdiv\x20class\x3D\x22sln\x2Dspan9\x20sln\x2Dnotifications\x2Dcontainer\x22\x3E\x3Ch2\x3EYour\x20notifications\x3A\x3C\x2Fh2\x3E\x0A\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20In\x20order\x20to\x20see\x20your\x20notifications,\x20please\x20\x3Ca\x20href\x3D\x22https\x3A\x2F\x2Fconnect.sensiolabs.com\x2Flogin\x22\x3Elogin\x20to\x20your\x20SensioLabs\x20account\x3C\x2Fa\x3E\x3C\x2Fdiv\x3E\x3C\x2Fdiv\x3E\x3C\x2Fdiv\x3E\x3C\x2Fdiv\x3E';
        if (!this.isAuthenticated) {
            return '';
        }

        var processActions = function(actions) {
            actionList = '';
            for (key in actions) {
                action = actions[key];
                actionTemplate = '\x3Cli\x3E\x3Ca\x20href\x3D\x22__HREF__\x22\x3E__TEXT__\x3C\x2Fa\x3E\x3C\x2Fli\x3E';
                actionTemplate = actionTemplate.replace(/__HREF__/g, action.url);
                actionTemplate = actionTemplate.replace(/__TEXT__/g, action.label);

                actionList += actionTemplate;
            }

            return actionList;
        }

        actions = processActions(this.actions);
        separated = processActions(this.separatedActions);
        if (separated != '') {
            actions += '\x3Cli\x20class\x3D\x22sln\x2Dseparator\x22\x3E\x3C\x2Fli\x3E';
            actions += separated;
        }

        return template.replace(/__ACTIONS__/g, actions);
    },
    'renderAds': function() {
        var ads = jQuery.parseJSON(this.ads);
        if (ads.length > 0) {
            var ad = ads[Math.floor((Math.random()*ads.length))];
            template = '\x3Cdiv\x20class\x3D\x22sln\x2Dad\x22\x3E\x3Ca\x20href\x3D\x22__HREF__\x22\x20data\x2Dga\x3D\x22__GA__\x22\x20class\x3D\x22sln\x2Dvisible\x2Dphone\x22\x3E\x3Cimg\x20src\x3D\x22__ICON__\x22\x20\x2F\x3E__TEXT_SHORT__\x3C\x2Fa\x3E\x3Ca\x20href\x3D\x22__HREF__\x22\x20data\x2Dga\x3D\x22__GA__\x22\x20class\x3D\x22sln\x2Dvisible\x2Dtablet\x22\x3E\x3Cimg\x20src\x3D\x22__ICON__\x22\x20\x2F\x3E__TEXT_MEDIUM__\x3C\x2Fa\x3E\x3Ca\x20href\x3D\x22__HREF__\x22\x20data\x2Dga\x3D\x22__GA__\x22\x20class\x3D\x22sln\x2Dvisible\x2Ddesktop\x22\x3E\x3Cimg\x20src\x3D\x22__ICON__\x22\x20\x2F\x3E__TEXT_LONG__\x3C\x2Fa\x3E\x3C\x2Fdiv\x3E';
            return template.replace(/__HREF__/g, ad.href)
                           .replace(/__ICON__/g, ad.icon)
                           .replace(/__TEXT_SHORT__/g, ad.short_text)
                           .replace(/__TEXT_MEDIUM__/g, ad.medium_text)
                           .replace(/__TEXT_LONG__/g, ad.long_text)
                           .replace(/__GA__/g, ad.ga);
        }

        return '';
    },
    'renderDropdownSearch': function() {
        if (!this.searchActive) {
            return '';
        }

        return '\x3Cdiv\x20class\x3D\x22sln\x2Ddropdown\x20sln\x2Ddropdown\x2Dsearch\x20sln\x2Dhidden\x22\x3E\x3Cdiv\x20class\x3D\x22sln\x2Dcontainer\x22\x3E\x3Cdiv\x20class\x3D\x22sln\x2Drow\x22\x3E\x3Cdiv\x20class\x3D\x22sln\x2Doffset9\x20sln\x2Dspan3\x20sln\x2Dautocomplete\x2Dcontainer\x22\x3E\x3C\x2Fdiv\x3E\x3C\x2Fdiv\x3E\x3C\x2Fdiv\x3E\x3C\x2Fdiv\x3E';
    },
    'bindEvents': function() {
        jQuery('.sln-network a').click(function() {
            jQuery('.sln-dropdown-user').addClass('sln-hidden');
            jQuery('.sln-dropdown-network').toggleClass('sln-hidden');
            jQuery('.sln-search-activated').addClass('sln-hidden');
            jQuery('.sln-search-deactivated').removeClass('sln-hidden');
            jQuery('#sln').height($('.sln-bar').outerHeight());
        });

        if (this.isAuthenticated) {
            jQuery('.sln-user a').click(function() {
                jQuery('.sln-dropdown-network').addClass('sln-hidden');
                jQuery('.sln-dropdown-user').toggleClass('sln-hidden');
                jQuery('.sln-search-activated').addClass('sln-hidden');
                jQuery('.sln-search-deactivated').removeClass('sln-hidden');
                jQuery('#sln').height($('.sln-bar').outerHeight());
            });
        }
        if (this.searchActive) {
            jQuery('.sln-search a').click(function() {
                jQuery('.sln-dropdown-user').addClass('sln-hidden');
                jQuery('.sln-dropdown-network').addClass('sln-hidden');
                jQuery('.sln-search-activated').toggleClass('sln-hidden');
                jQuery('.sln-search-deactivated').toggleClass('sln-hidden');
                jQuery('#sln').height($('.sln-bar').outerHeight());
            });

            this.bindSearch();
        }

        jQuery('.sln-ad a').click(function() {
            _gaq.push(['sln._trackEvent', 'Ads', 'Ads', 'ad_'+jQuery(this).attr('data-ga')]);
        });

            },
        'loadNotifications': function() {
        jQuery('.sln-notification-count').remove();
        jQuery.ajax('https://connect.sensiolabs.com/notifications', {
            headers: {'Accept': 'application/json'},
            xhrFields: {
                withCredentials: true
            },
            statusCode: {
                200: function(data, textStatus, jqXHR) {
                    if ('object' !== typeof data) {
                        data = jQuery.parseJSON(data);
                    }
                    jQuery('.sln-notifications-container').html(data.body)
                    if (data.count > 0) {
                        jQuery('.sln-user-connected').append('<span class="sln-notification-count">'+data.count+'</span>')
                    }
                    jQuery('#sln').height(jQuery('.sln-bar').outerHeight(true));
                },
                401: function(data, textStatus, jqXHR) {
                }
            }
        })
    },
        'bindSearch': function() {
        $.widget("custom.slncomplete", $.ui.autocomplete, {
            _renderMenu: function (ul, items) {
                ul.addClass('sln-autocomplete-menu');
                ul.removeClass("ui-autocomplete");

                var self = this, currentCategory = "";
                var group = "primary";
                var first = '';

                $.each (items, function (index, item) {
                    if (item.category != currentCategory) {
                        ul.append("<li class='ui-autocomplete-category'>" + item.category + "</li>");
                        currentCategory = item.category;
                        if ("primary" == group) {
                            group = "secondary";
                        } else {
                            group = "primary";
                        }
                        first = 'first';
                    }
                    self._renderItem({ ul: ul, item: item, group: group, first: first });
                    first = '';
                });

                ul.prepend("<li class=\"all-results primary\"><a href=\""+SLNBar.searchUrl+"?q="+$('#sln-autocomplete').val()+"\">Show all results...</a></li>");
                $('.sln_autocomplete .all-results a').click(function(e){window.location = $(this).attr('href');e.preventDefault();});
            }
        });
        if (0 != $("#sln-autocomplete").length) {
            $("#sln-autocomplete").slncomplete({
                source:    this.searchUrlAutocomplete,
                minLength: 2,
                select: SLNBar.searchAutocompleteSelect
            }).data("slncomplete")._renderItem = SLNBar.searchAutocompleteRenderItem;
        }
    }
}

var _gaq = _gaq || [];
(function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

(function(w, d, s) {
    var js, fjs = d.getElementsByTagName(s)[0], load = function(url, id) {
        if (d.getElementById(id)) {return;}
        js = d.createElement(s); js.src = url; js.id = id;
        fjs.parentNode.insertBefore(js, fjs);
    };
    load('http://symfony.com/sln_customiser.js', 'sln-customize');
} (window, document, 'script'));

_gaq.push(['sln._setAccount', 'UA-1221949-8']);
_gaq.push(['sln._setAllowLinker', true]);
_gaq.push(['sln._setCustomVar', 1, 'is_connected', 'no']);
_gaq.push(['sln._trackPageview']);
